<?php session_start(); $uFile=__DIR__.'/../data/users.json'; $errs=[]; if($_SERVER['REQUEST_METHOD']==='POST'){ $e=$_POST['email']; $p=$_POST['password']; $users=file_exists($uFile)?json_decode(file_get_contents($uFile),true):[]; foreach($users as $us) if($us['email']===$e && password_verify($p,$us['password'])){ $_SESSION['user']=['email'=>$e]; header('Location:/index.php'); exit; } $errs[]='Email hoặc mật khẩu không đúng'; } include __DIR__.'/../includes/header.php'; ?><div class="card"><h2>Đăng nhập</h2><?php foreach($errs as $er): ?><div style="color:red"><?=$er?></div><?php endforeach; ?><form method="post"><input class="form-input" name="email" placeholder="Email"><input class="form-input" name="password" type="password" placeholder="Mật khẩu"><div style="text-align:right"><button class="btn" type="submit">Đăng nhập</button></div></form></div><?php include __DIR__.'/../includes/footer.php'; ?>